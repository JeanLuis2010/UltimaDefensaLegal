<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ultima Defensa Legal — Protección legal bilingüe</title>
  <meta name="description" content="Conecta con abogados independientes. Membresías de 3 meses para individuos y familias. Bilingüe EN/ES.">
  <link rel="stylesheet" href="css/style.css" />
  <style>
    :root { --max: 1100px; }
    * { box-sizing: border-box; }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:#111; line-height:1.5; }
    header, nav, main, footer { width:100%; }
    .container { max-width: var(--max); margin:0 auto; padding:1rem; }
    nav { border-bottom:1px solid #eee; background:#fff; position:sticky; top:0; z-index:20; }
    .nav-row { display:flex; align-items:center; justify-content:space-between; gap:1rem; }
    .nav-links a { text-decoration:none; color:#111; margin:0 .5rem; }
    .brand { font-weight:800; letter-spacing:.3px; }

    .hero { background:#fafafa; border-bottom:1px solid #eee; }
    .hero h1 { font-size: clamp(1.8rem, 2.8vw, 2.6rem); margin:0 0 .5rem; font-weight:800; }
    .hero p { margin:.3rem 0 1rem; max-width:70ch; color:#333; }
    .cta-row { display:flex; gap:.6rem; flex-wrap:wrap; }
    .btn { padding:.65rem 1rem; border-radius:10px; border:1px solid #111; background:#111; color:#fff; text-decoration:none; display:inline-block; }
    .btn.secondary { background:#fff; color:#111; }
    .muted { color:#666; }
    .section { padding: 2rem 1rem; }
    .cards { display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap:1rem; }
    .card { border:1px solid #e5e7eb; border-radius:16px; padding:1rem; background:#fff; }
    .card h3 { margin:.25rem 0 .5rem; }
    .ol-steps { counter-reset: step; list-style:none; padding:0; }
    .ol-steps li { counter-increment: step; margin:.6rem 0; padding-left:2.2rem; position:relative; }
    .ol-steps li::before { content: counter(step); position:absolute; left:0; top:.1rem; width:1.6rem; height:1.6rem; border-radius:999px; background:#111; color:#fff; display:grid; place-items:center; font-size:.85rem; }
    .plans { display:grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); gap:1rem; }
    .plan-card { border:1px solid #e5e7eb; border-radius:16px; padding:1rem; background:#fff; }
    .price { font-size:1.6rem; font-weight:700; margin:.5rem 0 .4rem; }
    .term { display:block; font-size:.95rem; color:#555; margin-bottom:.75rem; }
    footer { border-top:1px solid #eee; background:#fafafa; margin-top:2rem; }
    /* i18n helpers (Spanish default) */
    .i18n-en{display:none} html[lang="en"] .i18n-en{display:block} html[lang="en"] .i18n-es{display:none}
  </style>
  <!-- Consent & analytics loader (loads GA only after consent) -->
  <script src="udl-consent.js" defer></script>
</head>

<body>
  <!-- NAV -->
  <nav aria-label="Main">
    <div class="container nav-row">
      <div class="brand">Ultima Defensa Legal</div>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="#how">How it works</a>
        <a href="#value">Why us</a>
        <a href="#plans">Membership</a>
        <a href="attorneys.html">Attorneys</a>
        <a href="contact.html">Contact</a>
      </div>
      <div>
        <button type="button" class="btn secondary" style="border-color:#ddd" onclick="UDL_UI?.setLang('en')">EN</button>
        <button type="button" class="btn secondary" style="border-color:#ddd" onclick="UDL_UI?.setLang('es')">ES</button>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero">
    <div class="container">
      <div class="i18n-es">
        <h1>Protección legal cuando más la necesitas — bilingüe y accesible.</h1>
        <p>Te conectamos con abogados independientes en inmigración, familia y penal. Membresías sencillas de 3 meses. Una llamada, ayuda real.</p>
        <div class="cta-row">
          <a class="btn" href="#how">Cómo funciona</a>
          <a class="btn secondary" href="#plans">Ver planes</a>
          <a class="btn secondary" href="attorneys.html">Soy abogado</a>
        </div>
      </div>
      <div class="i18n-en">
        <h1>Legal protection when you need it most — bilingual and affordable.</h1>
        <p>We connect you with independent attorneys in immigration, family, and criminal law. Simple 3-month memberships. One call, real help.</p>
        <div class="cta-row">
          <a class="btn" href="#how">How it works</a>
          <a class="btn secondary" href="#plans">View plans</a>
          <a class="btn secondary" href="attorneys.html">I’m an attorney</a>
        </div>
      </div>
    </div>
  </header>

  <!-- HOW IT WORKS -->
  <section class="section" id="how">
    <div class="container">
      <div class="i18n-es">
        <h2>Cómo funciona</h2>
        <ol class="ol-steps">
          <li>Inscríbete: elige Individual o Familiar (3 meses).</li>
          <li>Recibe tu ID de miembro al instante por correo.</li>
          <li>Llámanos y te conectamos con un abogado adecuado.</li>
        </ol>
      </div>
      <div class="i18n-en">
        <h2>How it works</h2>
        <ol class="ol-steps">
          <li>Join: pick Individual or Family (3 months).</li>
          <li>Get your Member ID instantly by email.</li>
          <li>Call us and we connect you to the right attorney.</li>
        </ol>
      </div>
    </div>
  </section>

  <!-- VALUE PROPS -->
  <section class="section" id="value">
    <div class="container">
      <div class="i18n-es">
        <h2>Por qué elegirnos</h2>
        <div class="cards">
          <div class="card"><h3>Bilingüe EN/ES</h3><p>Atención y documentos en tu idioma.</p></div>
          <div class="card"><h3>Asequible</h3><p>Planes claros de 3 meses; opción para extender.</p></div>
          <div class="card"><h3>Abogados verificados</h3><p>Compromiso: al menos una consulta gratuita o con descuento.</p></div>
          <div class="card"><h3>Privado y seguro</h3><p>Protección de datos, 2FA, encriptación y cumplimiento.</p></div>
        </div>
      </div>
      <div class="i18n-en">
        <h2>Why choose us</h2>
        <div class="cards">
          <div class="card"><h3>Bilingual EN/ES</h3><p>Support and documents in your language.</p></div>
          <div class="card"><h3>Affordable</h3><p>Simple 3-month plans; easy to extend.</p></div>
          <div class="card"><h3>Verified attorneys</h3><p>Commitment: at least one free or discounted consultation.</p></div>
          <div class="card"><h3>Private & secure</h3><p>Data protection, 2FA, encryption, and compliance.</p></div>
        </div>
      </div>
    </div>
  </section>

  <!-- TESTIMONIALS / SCENARIOS (lite placeholders) -->
  <section class="section" id="stories" style="background:#fafafa; border-top:1px solid #eee; border-bottom:1px solid #eee;">
    <div class="container">
      <div class="i18n-es">
        <h2>Historias reales</h2>
        <div class="cards">
          <div class="card"><p>“Cuando detuvieron a mi esposo, llamé con mi ID y me conectaron con un abogado de inmigración en minutos.”</p><p class="muted">— Miembro Familiar</p></div>
          <div class="card"><p>“Necesitaba orientación sobre custodia. La consulta incluida valió por sí sola la membresía.”</p><p class="muted">— Miembro Individual</p></div>
        </div>
      </div>
      <div class="i18n-en">
        <h2>Real stories</h2>
        <div class="cards">
          <div class="card"><p>“When my husband was detained, I called with my Member ID and was connected to an immigration attorney in minutes.”</p><p class="muted">— Family Member</p></div>
          <div class="card"><p>“I needed guidance on custody. The included consultation alone paid for the membership.”</p><p class="muted">— Individual Member</p></div>
        </div>
      </div>
    </div>
  </section>

  <!-- MEMBERSHIP (pricing rendered by JS; Spanish default) -->
  <section class="section" id="plans">
    <div class="container">
      <div class="i18n-es">
        <h2>Membresía — 3 meses</h2>
        <p class="muted">Sin opción mensual. Después puedes extender fácilmente.</p>
      </div>
      <div class="i18n-en">
        <h2>Membership — 3 months</h2>
        <p class="muted">No monthly plan. After 3 months you can extend easily.</p>
      </div>

      <!-- Plans mount here (from pricing-config.js + region-pricing.js) -->
      <div id="plans-root"></div>
    </div>
  </section>

  <!-- ATTORNEY CTA -->
  <section class="section" id="attorney-cta">
    <div class="container">
      <div class="card" style="display:flex; align-items:center; justify-content:space-between; gap:1rem; flex-wrap:wrap;">
        <div class="i18n-es">
          <h3>¿Eres abogado?</h3>
          <p class="muted" style="margin:0">Amplía tu práctica y ayuda a familias — únete a nuestra red.</p>
        </div>
        <div class="i18n-en">
          <h3>Are you an attorney?</h3>
          <p class="muted" style="margin:0">Grow your practice and help families—join our network.</p>
        </div>
        <a class="btn" href="attorneys.html" id="cta-attorneys">Join</a>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <p class="muted">
        © <span id="year"></span> Ultima Defensa Legal •
        <a href="privacy.html">Privacy</a> • <a href="terms.html">Terms</a> •
        <a href="refunds.html">Refunds</a> • <a href="disclaimer.html">Disclaimer</a> •
        <a href="cookies.html">Cookies</a> • <a href="security.html">Security</a> •
        <a href="accessibility.html">Accessibility</a>
      </p>
    </div>
  </footer>

  <!-- CONFIG + PRICING RENDERER -->
  <script src="pricing-config.js"></script>
  <script src="region-pricing.js"></script>
  <script>
    // Basic i18n init + year
    document.addEventListener('DOMContentLoaded', () => {
      const y=document.getElementById('year'); if (y) y.textContent = new Date().getFullYear();
      const saved = localStorage.getItem('udl_lang') || 'es';
      document.documentElement.setAttribute('lang', saved);
      // Event tracking hooks (fires only if analytics consented)
      document.body.addEventListener('click', (e) => {
        const t = e.target;
        if (t.matches('[data-plan-select]')) UDL_CONSENT.track('select_plan', {plan: t.closest('[data-plan]')?.getAttribute('data-plan')});
        if (t.id === 'cta-attorneys') UDL_CONSENT.track('click_attorneys_cta', {});
      });
    });
  </script>
</body>
</html>
